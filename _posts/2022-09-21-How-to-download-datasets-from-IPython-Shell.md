---
keywords: fastai
description: This blog post will show you how to download datasets from DataCamp Ipython Shell/Console in a web browser.
title: How to download datasets from IPython Shell in Datacamp
toc: true
branch: master
badges: true
comments: true
author: Datacamp
categories: [DataCamp, Dataset, Download, IPython Shell]
image: images/datacamp.png
hide: false
search_exclude: true
metadata_key1: metadata_value1
metadata_key2: metadata_value2
nb_path: _notebooks/How to download dataset from IPython Shell/2022-09-21-How to download datasets from IPython Shell.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/How to download dataset from IPython Shell/2022-09-21-How to download datasets from IPython Shell.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p><strong>TL;DR:</strong> Use the python <a href="#Full-Code">script</a> to extract the link to download the targeting datasets from IPython Shell.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Motivation</strong>: While studying DataCamp courses, there were so many times that I could not reproduce the course results in my local environment with the provided datasets, which was quite frustrating. I had tried to reach out to the support team, but the results were not satisfactory. After spending hours searching on Stackoverflow <a href="https://stackoverflow.com/questions/31893930/download-csv-from-an-ipython-notebook">here</a> and <a href="https://stackoverflow.com/questions/26497912/trigger-file-download-within-ipython-notebook">there</a>, then trying and failing numerous times with several scripts, I could finally manage to download the dataset that the course was using.</p>
<p>I decided to share my workaround here. Hopefully, it could help everyone who is facing the same problems. <br></p>
<p>I have summarized how I did it in the following steps:</p>
<ul>
<li><a href="#quick-eda"><strong>1.</strong></a> Check the general info of the dataset</li>
<li><a href="#save-dataset-to-the-cloud-storage"><strong>2.</strong></a> Put the download script to the script.py</li>
<li><a href="#encode-the-file-data-and-generate-html-link"><strong>3.</strong></a> Extract the "href "link, and download it.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Quick-EDA">Quick EDA<a class="anchor-link" href="#Quick-EDA"> </a></h2><p>Run the following command to take do a quick check on the data</p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

                   <span class="n">y</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span>  <span class="mf">1.624345</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">02</span> <span class="o">-</span><span class="mf">0.936625</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">03</span>  <span class="mf">0.081483</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">04</span> <span class="o">-</span><span class="mf">0.663558</span>
<span class="mi">2013</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">05</span>  <span class="mf">0.738023</span>
</pre></div>
<p>then a quick look with <code>df.info()</code></p>
<div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>


<span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="s1">&#39;&gt;</span>
<span class="n">DatetimeIndex</span><span class="p">:</span> <span class="mi">1000</span> <span class="n">entries</span><span class="p">,</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="n">to</span> <span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">27</span>
<span class="n">Freq</span><span class="p">:</span> <span class="n">D</span>
<span class="n">Data</span> <span class="n">columns</span> <span class="p">(</span><span class="n">total</span> <span class="mi">1</span> <span class="n">columns</span><span class="p">):</span>
 <span class="c1">#   Column  Non-Null Count  Dtype  </span>
<span class="o">---</span>  <span class="o">------</span>  <span class="o">--------------</span>  <span class="o">-----</span>  
 <span class="mi">0</span>   <span class="n">y</span>       <span class="mi">1000</span> <span class="n">non</span><span class="o">-</span><span class="n">null</span>   <span class="n">float64</span>
<span class="n">dtypes</span><span class="p">:</span> <span class="n">float64</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">memory</span> <span class="n">usage</span><span class="p">:</span> <span class="mf">55.6</span> <span class="n">KB</span>
<span class="kc">None</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Okay, the dataset has 1000 rows, with Freq set as Date, Dtype = float64, etc.</p>
<p>Here are the first 5 rows of data:</p>
<div class="highlight"><pre><span></span><span class="go">2013-01-01  1.624345</span>
<span class="go">2013-01-02 -0.936625</span>
<span class="go">2013-01-03  0.081483</span>
<span class="go">2013-01-04 -0.663558</span>
<span class="go">2013-01-05  0.738023</span>
</pre></div>
<p>We will remember this, so we can check later once we download the dataset to our local environment.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Save-the-dataset-to-the-cloud-storage">Save the dataset to the cloud storage<a class="anchor-link" href="#Save-the-dataset-to-the-cloud-storage"> </a></h2><p>Next, we will save the dataset from the DataFrame to the cloud storage. Try the following code in the script.py.</p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/tempsnip.png" alt=""></p>
<p>CODE:</p>
<div class="highlight"><pre><span></span><span class="c1"># Get the filename fullpath</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data.csv&quot;</span>
<span class="n">filename</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">filename</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
<p><br></p>
<p>Check the result by typing the following commands to the IPython Shell: <br></p>
<div class="highlight"><pre><span></span><span class="go">!pwd</span>
<span class="go">!ls</span>
</pre></div>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/tempsnip2.png" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Encode-the-file-data-and-an-generate-HTML-link">Encode the file data and an generate HTML link<a class="anchor-link" href="#Encode-the-file-data-and-an-generate-HTML-link"> </a></h2><p>Next, we run the following code, to generate HTML data.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>

<span class="n">in_file</span>  <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<span class="n">csv</span> <span class="o">=</span> <span class="n">in_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="c1"># print(csv) # Uncomment this if you want to check the csv content</span>
<span class="n">in_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">csv</span><span class="p">)</span>
<span class="n">payload</span> <span class="o">=</span> <span class="n">b64</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
<span class="n">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;a download=&quot;</span><span class="si">{filename}</span><span class="s1">&quot; href=&quot;data:text/csv;base64,</span><span class="si">{payload}</span><span class="s1">&quot; target=&quot;_blank&quot;&gt;</span><span class="si">{title}</span><span class="s1">&lt;/a&gt;&#39;</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
<span class="c1"># Print the link</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:text/csv;base64,</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
</pre></div>
<p><br></p>
<p><strong>Result:</strong> <br></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/tempsnip3.png" alt=""></p>
<p>Paste the extracted link in the Shell output to a new tab in the browser. 
<br></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/tempsnip4.PNG" alt="">
<br></p>
<p><strong>Voila</strong>! That is the dataset that we want. <br></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/tempsnip5.PNG" alt=""></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Check-the-downloaded-dataset-in-your-local-Jupyter-notebook">Check the downloaded dataset in your local Jupyter notebook<a class="anchor-link" href="#Check-the-downloaded-dataset-in-your-local-Jupyter-notebook"> </a></h2><p>Use this code: <br></p>
<div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./datasets/download.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">asfreq</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">)</span>  <span class="c1"># Set the frequent as DATE </span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
<p>then <br></p>
<div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
<p>Results: <br></p>
<p><img src="/Data-Science-selfstudy-notes-Blog/images/copied_from_nb/./images/tempsnip6.PNG" alt=""></p>
<p><br></p>
<p>As you can see, the downloaded dataset looks exactly like what we saw in the quick <a href="#quick-eda">EDA</a> section. You can now freely run your experiment locally with no worries about preprocessing the raw datasets.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Full-Code">Full Code<a class="anchor-link" href="#Full-Code"> </a></h2><p>Here is the full code of the post. Use this script in the script.py, you should be able to download the targeted datasets.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>


<span class="k">def</span> <span class="nf">create_download_link</span><span class="p">(</span> <span class="n">df</span><span class="p">,</span> <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Download CSV file&quot;</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;data.csv&quot;</span><span class="p">):</span>

    <span class="n">filename</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span> <span class="o">/</span> <span class="n">filename</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

    <span class="n">in_file</span>  <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span>
    <span class="n">csv</span> <span class="o">=</span> <span class="n">in_file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="c1"># print(csv) # Uncomment this if you want to check the csv content</span>
    <span class="n">in_file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">b64</span> <span class="o">=</span> <span class="n">base64</span><span class="o">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">csv</span><span class="p">)</span>
    <span class="n">payload</span> <span class="o">=</span> <span class="n">b64</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="n">html</span> <span class="o">=</span> <span class="s1">&#39;&lt;a download=&quot;</span><span class="si">{filename}</span><span class="s1">&quot; href=&quot;data:text/csv;base64,</span><span class="si">{payload}</span><span class="s1">&quot; target=&quot;_blank&quot;&gt;</span><span class="si">{title}</span><span class="s1">&lt;/a&gt;&#39;</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">html</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">payload</span><span class="o">=</span><span class="n">payload</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span><span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">)</span>
    <span class="c1"># print the link</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;data:text/csv;base64,</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">payload</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

<span class="n">create_download_link</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That's it. Thank you for reading. If you find the blog post useful, please give the <a href="https://github.com/anhhaibkhn/Data-Science-selfstudy-notes-Blog">GitHub blog repo</a> a star to show your support and share it to others. Also, please let me know in the comments section of the post if you have any questions.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-python"><pre><span></span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

